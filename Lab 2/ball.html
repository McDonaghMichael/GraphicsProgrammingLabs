
<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
      body {
          background-color: white;
      }

      #canvas-for-ball {
        border: 2px solid black;
      }
    </style>

  </head>

  <body>

    <h1>Michael McDonagh</h1>
    <h2>G00421944@atu.ie</h2>

    <canvas id="canvas-for-ball"></canvas>

    <script type="text/javascript">
      var canvas = document.getElementById("canvas-for-ball");
      var ctx = canvas.getContext("2d");

      class Ball {
        constructor(xPosition, yPosition, xVelocity, yVelocity, radius, gravity){
          this.xPosition = xPosition;
          this.yPosition = yPosition;
          this.xVelocity = xVelocity;
          this.yVelocity = yVelocity;
          this.radius = radius;
          this.gravity = gravity;
        }

        draw(ctx){
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.beginPath();
          ctx.arc(ball.xPosition, ball.yPosition, ball.radius, 0, 2 * Math.PI);
          ctx.moveTo(ball.xPosition, ball.yPosition);
          ctx.lineTo(ball.xPosition, ball.yPosition - ball.radius);
          ctx.lineTo(ball.xPosition, ball.yPosition + ball.radius);
          ctx.stroke();

        }

        move(){
          // When the Y Position of the Ball is more than or equal ot the edge of the border
        if(ball.yPosition >= yBorder){
          ball.yVelocity = ball.yVelocity * -1;
        }

        // When the X Position of the Ball is more than or equal to the edge of the border
        if(ball.xPosition >= xBorder){
          ball.xVelocity = ball.xVelocity * -1;
        }
        
        // This will check if the border of the ball has hit a Y Coordinate edge
        if(ball.yPosition <= ball.radius){
          ball.yVelocity = ball.yVelocity * -1;
        }

        // This will check if the border of the ball has hit a X Coordinate edge
        if(ball.xPosition <= ball.radius){
          ball.xVelocity = ball.xVelocity * -1;
        }
          ball.yPosition += ball.yVelocity;
          ball.xPosition += ball.xVelocity;
        }

        drawPeaceSign() {
          ctx.beginPath();
          ctx.arc(ball.xPosition, ball.yPosition, ball.radius, 0, Math.PI * 2);
          ctx.stroke();

          ctx.beginPath();
          ctx.moveTo(ball.xPosition, ball.yPosition - ball.radius);
          ctx.lineTo(ball.xPosition, ball.yPosition);
          ctx.stroke();

          ctx.beginPath();
          ctx.moveTo(ball.xPosition, ball.yPosition + ball.radius);
          ctx.lineTo(ball.xPosition, ball.yPosition);
          ctx.stroke();

          // Draw the two diagonal lines
          // Polar coordinates for -45 degrees (bottom left)
          let angle1 = (3 * Math.PI) / 4;
          let x1 = ball.xPosition + ball.radius * Math.cos(angle1);
          let y1 = ball.yPosition + ball.radius * Math.sin(angle1);

          // Polar coordinates for -135 degrees (bottom right)
          let angle2 = (1 * Math.PI) / 4;
          let x2 = ball.xPosition + ball.radius * Math.cos(angle2);
          let y2 = ball.yPosition + ball.radius * Math.sin(angle2);

          // Draw left diagonal line
          ctx.beginPath();
          ctx.moveTo(ball.xPosition, ball.yPosition); // Start at center of ball
          ctx.lineTo(x1, y1); // Move to left diagonal end
          ctx.stroke();

          // Draw right diagonal line
          ctx.beginPath();
          ctx.moveTo(ball.xPosition, ball.yPosition); // Start at center of ball
          ctx.lineTo(x2, y2); // Move to right diagonal end
          ctx.stroke();
        }

      }

      var ball = new Ball(40,40,3,3,30,0);

      var yBorder = canvas.height - ball.radius;
      var xBorder = canvas.width - ball.radius;

      function repeatme() {
        ball.draw(ctx);
        ball.move();
        ball.drawPeaceSign();
        window.requestAnimationFrame(repeatme);
      }
      
      repeatme();
    </script>

  </body>

</html>